<?xml version="1.0" encoding="UTF-8"?>
	<xsl:stylesheet id="stylesheet" version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
				<body>
					<textarea id="Console"></textarea>
					<button onclick="alert(NewArticle(););">New</button>
					<!-- Note: Try catch here breaks XML wtf -->
					<!-- <button onclick="alert(eval('try{'+Console.value+'}catch(e){alert(e)}'));">Eval</button> -->
					<button onclick="alert(_eval(Console.value));">Eval</button>
					<xsl:for-each select="KB-Data/KB-Files/KB-File">
						<div class="KB-File">
							<h2><xsl:value-of select="KB-Name"/></h2>
							<div>
								<xsl:apply-templates select="KB-Content/*"/>
							</div>
						</div>
					</xsl:for-each>
					<script>
const _eval = Str => {
	try { return eval(Str); }
	catch(e) { return e; };
};

// https://stackoverflow.com/a/52273870
function newFile(data, fileName) {
	//let json = JSON.stringify(data);
	// IE11 support
	if (window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob) {
		//let blob = new Blob([json], {type: "application/json"});
		let blob = new Blob([data], {type: "application/octet-stream"});
		window.navigator.msSaveOrOpenBlob(blob, fileName);
	} else { // other browsers
		//let file = new File([json], fileName, {type: "application/json"});
		let file = new File([data], fileName, {type: "application/octet-stream"});
		let exportUrl = URL.createObjectURL(file);
		window.location.assign(exportUrl);
		URL.revokeObjectURL(exportUrl);
	};
};

const GetData = _ => {
	var KBData = document.getElementById('KB-Data').outerHTML;
	KBData = KBData.substring(
		KBData.indexOf('/*') + 2,
		KBData.indexOf('*/')
	);
	const Parse = new DOMParser();
	KBData = Parse.parseFromString(KBData, 'text/xml');
	return KBData;
};

const NewArticle = function NewArticle() {
	const Parse = new DOMParser();
	return Parse.parseFromString('<Test>Test</Test>', 'text/xml');
};

alert(1);
					</script>
				</body>
</xsl:stylesheet>
